{"version":3,"sources":["app.js"],"names":["BACKEND_HOST","location","href","indexOf","setCookie","name","value","days","expires","Date","date","getTime","toUTCString","activeLang","/en","/kr","pathname","replace","language","navigator","userLanguage","split","cookieLanguage","parts","document","cookie","pop","shift","getCookie","browserLang","window","TxtType","el","toRotate","period","this","parseInt","loopNum","txt","prototype","tick","i","length","fullTxt","substring","innerHTML","delta","Math","random","isDeleting","setTimeout","that","onload","elements","getElementsByClassName","getAttribute","css","createElement","type","body","appendChild","navIcon","querySelector","navTriangle","navClose","e","preventDefault","contains","remove","mainNav","classList","add","navbar","getElementById","aboutSection","mapEl","aboutPosition","mapPosition","offsetTop","googleMapsWasLoaded","scriptEl","pageYOffset","getStickyNav","loadGoogleMaps","googleMap","montreal","lat","map","google","maps","Map","center","zoom","Marker","position","imagesWasLoaded","b","getElementsByTagName","s","lazyLoadImages","async","src","v","checkScrollPosition","addEventListener","clearTimeout","linkedin","linkedinOutline","linkedinInline","github","gitInline","style","stroke","gitOutline","btnToSubPortfolio","querySelectorAll","showSubPortfolio","_this","btnToMainPortfolio","btn","hideSubPortfolio","id","filter","forEach","form","onsubmit","formContents","data","email","subject","message","JSON","stringify","Promise","resolve","reject","method","url","xhr","XMLHttpRequest","XDomainRequest","open","status","response","Error","statusText","alert"],"mappings":"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","file":"../app.js","sourcesContent":["(function () {\n\n\t// if the url contains ?debug=true\n\tconst IS_DEBUG_MODE = !!~location.href.indexOf('localhost');\n\tconst BACKEND_HOST = IS_DEBUG_MODE ? 'http://localhost:9900' : 'https://jiah-lee.herokuapp.com';\n\n\t/* --- Multi-languages ( Globalization & Localization ) --- */\n\tfunction getCookie(name) {\n\t\tvar value = '; ' + document.cookie;\n\t\tvar parts = value.split('; ' + name + '=');\n\t\tif (parts.length == 2) return parts.pop().split(';').shift();\n\t}\n\n\tfunction setCookie(name,value,days) {\n\t\tvar expires = '';\n\t\tif (days) {\n\t\t\tvar date = new Date();\n\t\t\tdate.setTime(date.getTime() + (days*24*60*60*1000));\n\t\t\texpires = '; expires=' + date.toUTCString();\n\t\t}\n\t\tdocument.cookie = name + '=' + (value || '')  + expires + '; path=/';\n\t}\n\n\tconst activeLang = ({\n\t\t'/en': 'en',\n\t\t'/kr': 'kr'\n\t})[location.pathname.replace(/\\/$/, '')] || 'en';\n\n\tconst browserLang = (navigator.language || navigator.userLanguage).split('-')[0];\n\tconst cookieLanguage = getCookie('lang');\n\t// Browser language is different than the set language and the url\n\t// querystring does not have a lang parameter\n\n\t// set cookie for user accessing via github.\n\tif (browserLang && !cookieLanguage) {\n\t\t// set cookie if not exist.\n\t\tsetCookie('lang', browserLang, 365);\n\t\treturn window.location = '/' + browserLang;\n\t}\n\n\t// re-set cookie when cookie already exists.\n\tsetCookie('lang', activeLang, 365);\n\n\t// The main index.html is in English\n\tif (location.pathname === '/' && cookieLanguage !== 'en') {\n\t\treturn window.location = '/' + cookieLanguage;\n\t}\n\n\t/* --- Header Typewriting Animation --- */\n\tconst TxtType = function (el, toRotate, period) {\n\t\tthis.toRotate = toRotate;\n\t\tthis.el = el;\n\t\tthis.loopNum = 0;\n\t\tthis.period = parseInt(period, 10) || 2000;\n\t\tthis.txt = '';\n\t\tthis.tick();\n\t\tthis.isDeleting = false;\n\t};\n\n\tTxtType.prototype.tick = function () {\n\t\tlet i = this.loopNum % this.toRotate.length;\n\t\tlet fullTxt = this.toRotate[i];\n\n\t\tif (this.isDeleting) {\n\t\t\tthis.txt = fullTxt.substring(0, this.txt.length - 1);\n\t\t} else {\n\t\t\tthis.txt = fullTxt.substring(0, this.txt.length + 1);\n\t\t}\n\n\t\tthis.el.innerHTML = `<span class=\"wrap\">${this.txt}</span>`;\n\n\t\tconst that = this;\n\t\tlet delta = 200 - Math.random() * 100;\n\n\t\tif (this.isDeleting) {\n\t\t\tdelta /= 2;\n\t\t}\n\n\t\tif (!this.isDeleting && this.txt === fullTxt) {\n\t\t\tdelta = this.period;\n\t\t\tthis.isDeleting = true;\n\t\t} else if (this.isDeleting && this.txt === '') {\n\t\t\tthis.isDeleting = false;\n\t\t\tthis.loopNum++;\n\t\t\tdelta = 300;\n\t\t}\n\n\t\tsetTimeout(function () {\n\t\t\tthat.tick();\n\t\t}, delta);\n\t};\n\n\twindow.onload = function () {\n\t\tconst elements = document.getElementsByClassName('typewrite');\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tlet toRotate = elements[i].getAttribute('data-type');\n\t\t\tlet period = elements[i].getAttribute('data-period');\n\t\t\tif (toRotate) {\n\t\t\t\tnew TxtType(elements[i], JSON.parse(toRotate), period);\n\t\t\t}\n\t\t}\n\n\t\t// INJECT CSS\n\t\tconst css = document.createElement('style');\n\t\tcss.type = 'text/css';\n\t\tcss.innerHTML = '.typewrite > .wrap { border-right: 0.04em solid #fff; }';\n\t\tdocument.body.appendChild(css);\n\t};\n\n\t/* --- Nav Icon & Toggle box --- */\n\tconst navIcon = document.querySelector('#js--nav-icon');\n\tconst navTriangle = document.querySelector('.main-nav--box--triangle-shape');\n\tconst mainNav = document.querySelector('.main-nav');\n\n\tconst navOpen = 'resources/assets/svg/icon/nav-open.svg';\n\tconst navClose = 'resources/assets/svg/icon/nav-close.svg';\n\n\tnavIcon.addEventListener('click', function (e) {\n\t\te.preventDefault();\n\n\t\tif (!mainNav.classList.contains('open')) {\n\t\t\tnavTriangle.classList.add('open');\n\t\t\tmainNav.classList.add('open');\n\t\t\tthis.src = navClose;\n\t\t} else {\n\t\t\tnavTriangle.classList.remove('open');\n\t\t\tmainNav.classList.remove('open');\n\t\t\tthis.src = navOpen;\n\t\t}\n\t}, false);\n\n\t/* --- Scroll Events --- */\n\tconst navbar = document.getElementById('nav-container');\n\tconst aboutSection = document.getElementById('about');\n\tconst mapEl = document.getElementById('map');\n\tconst aboutPosition = aboutSection.offsetTop;\n\tconst mapPosition = mapEl.offsetTop;\n\tlet imagesWasLoaded = false;\n\tlet googleMapsWasLoaded = false;\n\n\tfunction checkScrollPosition () {\n\t\tgetStickyNav();\n\n\t\tif (!googleMapsWasLoaded && (window.pageYOffset > mapPosition)) {\n\t\t\tloadGoogleMaps();\n\t\t\tgoogleMapsWasLoaded = true;\n\t\t}\n\n\t\tif (!imagesWasLoaded && (window.pageYOffset > aboutPosition)) {\n\t\t\tlazyLoadImages();\n\t\t\timagesWasLoaded = true;\n\t\t}\n\t}\n\n\t// run the function once when it's loaded.\n\tcheckScrollPosition();\n\n\t// Debounce allow us to \"group\" multiple sequential calls in a single one.\n\tlet scrollDebounce = null;\n\twindow.addEventListener('scroll', function () {\n\t\tclearTimeout(scrollDebounce);\n\t\tsetTimeout(checkScrollPosition, 200);\n\t});\n\n\t/* Sticky Nav */\n\tfunction getStickyNav() {\n\t\tif (window.pageYOffset > aboutPosition) {\n\t\t\tnavbar.classList.add('sticky');\n\t\t} else {\n\t\t\tnavbar.classList.remove('sticky');\n\t\t}\n\t}\n\n\t/* Lazyload Images */\n\tfunction lazyLoadImages() {\n\t\tconst b = document.getElementsByTagName('body')[0];\n\t\tconst s = document.createElement('script'); s.async = true;\n\t\tconst v = !('IntersectionObserver' in window) ? '8.8.0' : '10.9.0';\n\t\ts.src = 'https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/' + v + '/lazyload.min.js';\n\t\twindow.lazyLoadOptions = {};\n\t\tb.appendChild(s);\n\t}\n\n\t/* --- Map --- */\n\tfunction loadGoogleMaps () {\n\t\tconst scriptEl = document.createElement('script');\n\t\tscriptEl.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCwoUun1nhHQnZljKQmp4nEZP6-uw4L6xM';\n\t\tscriptEl.onload = function () {\n\t\t\tconst googleMap = document.getElementById('map');\n\n\t\t\tconst location = {\n\t\t\t\tmontreal: {\n\t\t\t\t\tlat: 45.5081804,\n\t\t\t\t\tlng: -73.57\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst map = new google.maps.Map(googleMap, {\n\t\t\t\tcenter: location.montreal,\n\t\t\t\tzoom: 11.5\n\t\t\t});\n\n\t\t\tnew google.maps.Marker({\n\t\t\t\tmap: map,\n\t\t\t\tposition: location.montreal,\n\t\t\t\ttitle: 'Montreal'\n\t\t\t});\n\t\t};\n\n\t\tdocument.body.appendChild(scriptEl);\n\t}\n\n\t/* --- Media icons hover effect --- */\n\tconst linkedin = document.querySelector('.icon-media--linkedin');\n\tconst linkedinOutline = document.getElementById('linkedin-outline');\n\tconst linkedinInline = document.getElementById('linkedin-inline');\n\tconst github = document.querySelector('.icon-media--github');\n\tconst gitOutline = document.getElementById('github-outline');\n\tconst gitInline = document.getElementById('github-inline');\n\n\tlinkedin.addEventListener('mouseover', function () {\n\t\tlinkedinOutline.style.stroke = '#0A278B';\n\t\tlinkedinInline.style.fill = '#0A278B';\n\t}, false);\n\n\tlinkedin.addEventListener('mouseleave', function () {\n\t\tlinkedinOutline.style.stroke = '#0077B5';\n\t\tlinkedinInline.style.fill = '#0077B5';\n\t}, false);\n\n\tgithub.addEventListener('mouseover', function () {\n\t\tgitOutline.style.stroke = '#EF0320';\n\t\tgitInline.style.fill = '#EF0320';\n\t}, false);\n\n\tgithub.addEventListener('mouseleave', function () {\n\t\tgitOutline.style.stroke = '#FB3C03';\n\t\tgitInline.style.fill = '#FB3C03';\n\t}, false);\n\n\n\t/* --- Sub Prtfolio --- */\n\tconst btnToSubPortfolio = document.querySelectorAll('.js--btn-to-sub');\n\tconst btnToMainPortfolio = document.querySelectorAll('.js--btn-to-main');\n\n\tbtnToSubPortfolio.forEach(btn => btn.addEventListener('click', showSubPortfolio, false));\n\tbtnToMainPortfolio.forEach(btn => btn.addEventListener('click', hideSubPortfolio, false));\n\n\tfunction showSubPortfolio(e) {\n\t\te.preventDefault();\n\t\tdocument.querySelector(`.main--${this.id}`).classList.add('fade');\n\t\tdocument.querySelector(`.sub--${this.id}`).classList.add('open');\n\n\t\tconst profileNum = [1, 3, 4, 5];\n\t\tprofileNum\n\t\t\t.filter(id => id != this.id)\n\t\t\t.map(id => {\n\t\t\t\tdocument.querySelector(`.main--${id}`).classList.remove('fade');\n\t\t\t\tdocument.querySelector(`.sub--${id}`).classList.remove('open');\n\t\t\t});\n\t}\n\n\tfunction hideSubPortfolio(e) {\n\t\te.preventDefault();\n\n\t\tdocument.querySelector(`.main--${this.id - 100}`).classList.remove('fade');\n\t\tdocument.querySelector(`.sub--${this.id - 100}`).classList.remove('open');\n\t}\n\n\t/* --- Contact --- */\n\tconst form = document.getElementById('contact-form');\n\tform.onsubmit = function (e) {\n\t\te.preventDefault();\n\n\t\tconst formContents = {\n\t\t\tname: form.name.value,\n\t\t\temail: form.email.value,\n\t\t\tsubject: form.subject.value,\n\t\t\tmessage: form.message.value\n\t\t};\n\t\tconst linkedin = 'https://www.linkedin.com/in/jiah827/';\n\t\txhrPostRequest(formContents)\n\t\t\t.then(form.innerHTML = `<P class=\"contact-message\">Hello ${form.name.value}, <br/>Your message has been sent.<br/> Thank you &#128420;</P>`)\n\t\t\t.then(form.reset())\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(`SendGrid API request failed: ${err}`);\n\t\t\t\tform.innerHTML = `<P class=\"contact-message\">I am sorry.<br/>Your message has NOT been sent.<br/> Please contact me via <a href=\"${linkedin}\">Linkedin</a>.<br/>Thank you &#128420;</P>`;\n\t\t\t});\n\n\t};\n\n\tfunction createCORSRequest(method, url) {\n\t\tlet xhr = new XMLHttpRequest();\n\t\tif ('withCredentials' in xhr) {\n\t\t\t// XHR for Chrome/Firefox/Opera/Safari.\n\t\t\txhr.open(method, url, true);\n\t\t} else if (typeof XDomainRequest != 'undefined') {\n\t\t\t// XDomainRequest for IE.\n\t\t\txhr = new XDomainRequest();\n\t\t\txhr.open(method, url);\n\t\t} else {\n\t\t\t// CORS not supported.\n\t\t\txhr = null;\n\t\t}\n\t\treturn xhr;\n\t}\n\n\tfunction xhrPostRequest(formContents) {\n\n\t\tconst data = JSON.stringify(formContents);\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst url = `${BACKEND_HOST}/api/contact`;\n\t\t\tconst xhr = createCORSRequest('POST', url);\n\n\t\t\tif (!xhr) {\n\t\t\t\talert('CORS not supported');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\txhr.onload = function () {\n\t\t\t\tif (this.status >= 200 && this.status < 300) {\n\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t} else {\n\t\t\t\t\treject(Error(xhr.statusText));\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.onerror = function () {\n\t\t\t\treject(Error('Network Error'));\n\t\t\t\talert('Woops, there was an error making the request.');\n\t\t\t};\n\t\t\txhr.setRequestHeader('Content-type', 'application/json');\n\t\t\txhr.send(data);\n\t\t});\n\t}\n})();\n"]}